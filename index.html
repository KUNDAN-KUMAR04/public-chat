<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0084ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Ultra Max Global</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     GATE â€” Level selection
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="gate" role="dialog" aria-modal="true" aria-label="Select connection level">
    <div class="gate-content">
        <div class="gate-logo">ğŸŒ</div>
        <h1 class="gate-title">ULTRA MAX GLOBAL</h1>
        <p class="gate-subtitle">Choose your connection speed</p>

        <button class="tier tier-max" onclick="boot('MAX')">
            <span class="tier-icon">ğŸ’</span>
            <div class="tier-info">
                <strong>MAX</strong>
                <small>5G / WiFi â€” All features, all file types</small>
            </div>
        </button>

        <button class="tier tier-smart" onclick="boot('SMART')">
            <span class="tier-icon">ğŸ“±</span>
            <div class="tier-info">
                <strong>SMART</strong>
                <small>4G â€” Images, audio, PDFs</small>
            </div>
        </button>

        <button class="tier tier-lite" onclick="boot('LITE')">
            <span class="tier-icon">âš¡</span>
            <div class="tier-info">
                <strong>LITE</strong>
                <small>3G / Jio â€” Text &amp; images only</small>
            </div>
        </button>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NAV BAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav class="nav" role="navigation">
    <div class="nav-left">
        <span class="nav-logo">UM</span>
        <span class="nav-name">GLOBAL</span>
    </div>

    <div class="nav-center">
        <span class="wipe-label">WIPES</span>
        <strong id="w-val">0</strong>
    </div>

    <div class="nav-right">
        <!-- Dark mode toggle injected by dark-mode.js -->
        <button class="nav-icon-btn" onclick="openSearch()" title="Search messages (Ctrl+F)" aria-label="Search">ğŸ”</button>
        <button id="level-btn" class="level-btn" onclick="switchLevel()">ğŸ’ MAX</button>
        <button id="sidebar-toggle" class="nav-icon-btn" onclick="toggleSidebar()" title="Pinned messages" aria-label="Toggle sidebar">ğŸ“Œ</button>
    </div>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SIDEBAR â€” Pinned messages
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<aside id="side" class="sidebar" role="complementary" aria-label="Pinned messages">
    <div class="sidebar-header">
        <h3>ğŸ“Œ Pinned</h3>
        <button class="sidebar-close" onclick="hideSidebar()" aria-label="Close sidebar">âœ•</button>
    </div>
    <hr>
    <div id="pin-list" class="pin-list"></div>
    <div class="sidebar-footer">
        <button class="wipe-btn" onclick="wipeAllData()">ğŸ—‘ï¸ WIPE CHAT</button>
    </div>
</aside>
<div id="sidebar-backdrop" class="sidebar-backdrop" onclick="hideSidebar()"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHAT AREA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<main id="chat" class="chat" role="main" aria-live="polite" aria-label="Chat messages"></main>

<!-- Typing indicator (injected by typing-indicator.js, placed after chat) -->

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     REPLY / EDIT TAG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="r-tag" class="reply-tag" style="display:none" role="status">
    <span class="reply-tag-icon">â†©</span>
    <span class="reply-tag-text"></span>
    <button class="reply-tag-close" onclick="window.cancelReplyOrEdit()" aria-label="Cancel">âœ•</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     INPUT BAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="input-bar" role="form" aria-label="Send a message">
    <!-- Color dot injected by user-colors.js before this -->
    <input
        id="u-in"
        class="input-username"
        type="text"
        placeholder="Name"
        maxlength="20"
        autocomplete="nickname"
        spellcheck="false"
        aria-label="Your username"
    >

    <!-- File upload button -->
    <label id="upload-btn" class="upload-btn" title="Attach file" aria-label="Attach file">
        ğŸ“
        <input type="file" id="f-in" style="display:none" accept="image/*,video/*,audio/*,.pdf,.doc,.docx,.xls,.xlsx,.txt,.zip">
    </label>

    <input
        id="m-in"
        class="input-message"
        type="text"
        placeholder="Messageâ€¦"
        autocomplete="off"
        aria-label="Message text"
    >

    <button id="send-btn" class="send-btn" onclick="sendMessage()" aria-label="Send message">ğŸ“¤</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MEDIA PREVIEW POPUP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="media-pop" class="media-popup" style="display:none" role="dialog" aria-modal="true" aria-label="Preview file before sending">
    <div class="media-popup-inner">
        <h3 class="media-popup-title">Preview &amp; Send</h3>

        <!-- Preview elements (shown/hidden based on file type) -->
        <img     id="pop-img"  src="" alt="Preview" style="display:none">
        <video   id="pop-vid"  controls style="display:none"></video>
        <audio   id="pop-aud"  controls style="display:none"></audio>
        <div     id="pop-file" class="pop-file-info" style="display:none"></div>

        <!-- Upload progress bar -->
        <div id="upload-progress-wrap" class="progress-wrap" style="display:none">
            <div id="upload-progress-bar" class="progress-bar"></div>
        </div>

        <!-- Caption input -->
        <input id="pop-caption" class="pop-caption" type="text" placeholder="Add a captionâ€¦ (optional)">

        <div class="media-popup-actions">
            <button class="btn btn-cancel" onclick="cancelUpload()">Cancel</button>
            <button id="upload-confirm-btn" class="btn btn-send" onclick="confirmUpload()">Send</button>
        </div>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCRIPTS â€” Single entry point, ES module
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script type="module" src="app.js"></script>

<!-- Service Worker Registration -->
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('SW registered:', reg.scope))
                .catch(err => console.log('SW failed:', err));
        });
    }
</script>

</body>
</html>
